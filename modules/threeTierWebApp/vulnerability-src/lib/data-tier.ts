import cdk = require('@aws-cdk/core');
import ec2 = require('@aws-cdk/aws-ec2');
// import autoscaling = require('@aws-cdk/aws-autoscaling');
import elbv2 = require('@aws-cdk/aws-elasticloadbalancingv2');
import { SrcStackVulnerabilityOptions } from './src-stack';

export interface DataTierConstructProps {
  vpc?: ec2.Vpc,
  vulnerabilityOptions?: SrcStackVulnerabilityOptions
}

export class DataTierConstruct extends cdk.Construct {
  /** @returns the ID of the VPC */
  public readonly vpcId: string;

  constructor(scope: cdk.Construct, id: string, props: DataTierConstructProps = {}) {
    super(scope, id);

    const vpc = props.vpc || new ec2.Vpc(this, 'VPC');

    // TODO
    // 1. RDS security group open
    // 2. RDS unencrypted storage
    this.vpcId = vpc.vpcId;
  }
}